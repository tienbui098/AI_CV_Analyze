@model AI_CV_Analyze.Models.ResumeAnalysisResult

@{
    ViewData["Title"] = "CV Analysis Results";
}

<div class="container mt-5">
    <div class="row">
        <div class="col-lg-7 mb-4">
            <div class="card h-100">
                <div class="card-header">
                    <h2>Analysis Results</h2>
                    <p class="text-muted">File: @Model.FileName</p>
                    <p class="text-muted">Analyzed on: @Model.AnalysisDate.ToString("g")</p>
                </div>
                <div class="card-body">
                    <div class="mb-4">
                        <h3>Content Analysis</h3>
                        <div class="p-3 bg-light rounded">
                            <pre class="mb-0">@Model.Content</pre>
                        </div>
                    </div>

                    @if (!string.IsNullOrEmpty(Model.OverallAnalysis))
                    {
                        <div class="mb-4">
                            <h3>Profile & Objective</h3>
                            <div class="p-3 bg-light rounded">
                                <pre class="mb-0">@Model.OverallAnalysis</pre>
                            </div>
                        </div>
                    }

                    @if (!string.IsNullOrEmpty(Model.Skills))
                    {
                        <div class="mb-4">
                            <h3>Skills</h3>
                            <div class="p-3 bg-light rounded">
                                <pre class="mb-0">@Model.Skills</pre>
                            </div>
                        </div>
                    }

                    @if (!string.IsNullOrEmpty(Model.Education))
                    {
                        <div class="mb-4">
                            <h3>Education</h3>
                            <div class="p-3 bg-light rounded">
                                <pre class="mb-0">@Model.Education</pre>
                            </div>
                        </div>
                    }

                    @if (!string.IsNullOrEmpty(Model.Experience))
                    {
                        <div class="mb-4">
                            <h3>Experience</h3>
                            <div class="p-3 bg-light rounded">
                                <pre class="mb-0">@Model.Experience</pre>
                            </div>
                        </div>
                    }

                    @if (!string.IsNullOrEmpty(Model.KeyPhrases))
                    {
                        <div class="mb-4">
                            <h3>Languages</h3>
                            <div class="p-3 bg-light rounded">
                                <pre class="mb-0">@Model.KeyPhrases</pre>
                            </div>
                        </div>
                    }

                    @if (!string.IsNullOrEmpty(Model.FormFields))
                    {
                        <div class="mb-4">
                            <h3>Projects</h3>
                            <div class="p-3 bg-light rounded">
                                <pre class="mb-0">@Model.FormFields</pre>
                            </div>
                        </div>
                    }
                </div>
                <div class="card-footer">
                    <a asp-action="Index" class="btn btn-primary">Analyze Another CV</a>
                </div>
            </div>
        </div>
        <div class="col-lg-5 mb-4">
            @if (ViewBag.Suggestions != null)
            {
                <div class="card h-100 border-info">
                    <div class="card-header bg-info text-white">
                        <h4 class="mb-0">Đề xuất chỉnh sửa CV từ AI</h4>
                    </div>
                    <div class="card-body">
                        <pre>@ViewBag.Suggestions</pre>
                    </div>
                </div>
            }
        </div>
    </div>
</div> 